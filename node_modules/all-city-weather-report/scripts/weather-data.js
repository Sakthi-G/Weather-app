let {
  allTimeZones,
  timeForOneCity,
  nextNhoursWeather,
} = require("all-city-weather-report");

process.on("message", (triggerData) => {
  if (triggerData === "fetchAllCityDetails") {
    let allCityTimeZone = allTimeZones();
    process.send(allCityTimeZone);
    process.exit();
  } else if (triggerData.hasOwnProperty("cityTDN")) {
    let nextNhours = nextNhoursWeather(
      triggerData.cityTDN,
      triggerData.hours,
      triggerData.weatherData
    );
    process.send(nextNhours);
    process.exit();
  } else {
    process.send(timeForOneCity(triggerData));
    process.exit();
  }
});
